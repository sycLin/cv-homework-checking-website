<!DOCTYPE html>
<html>
<head>
	<title>Computer Vision</title>
	<meta charset="UTF-8" />
	<meta name="keywords" content="Computer Vision, NTU, NTU-CSIE, CSIE, course, Fu" />
	<meta name="description" content="Website for testing Computer Vision Homework" />
	<meta name="author" content="Steven YuChih Lin" />
	<!-- import Google Icon Font -->
	<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
	<!-- import materialize.css -->
	<link type="text/css" rel="stylesheet" href="assets/css/materialize.min.css" media="screen, projection" />
	<!-- let browser know website is optimized for mobile -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
	<!-- navigation bar -->
	<div class="navbar-fixed">
		<!-- Dropdown structure -->
		<ul id="dropdown1" class="dropdown-content">
			<li><a href="#">hw1</a></li>
			<li><a href="#">hw2</a></li>
			<li><a href="#">hw3</a></li>
			<li><a href="#">hw4</a></li>
			<li><a href="#">hw5</a></li>
			<li><a href="#">hw6</a></li>
			<li><a href="#">hw7</a></li>
			<li><a href="#">hw8</a></li>
			<li><a href="#">hw9</a></li>
			<li><a href="#">hw10</a></li>
		</ul>
		<!-- Dropdown ends here -->
		<nav class="blue-grey">
			<div class="nav-wrapper container">
				<a href="#" id="nav-title" class="brand-logo">CV</a>
				<a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="#">About</a></li>
					<li><a href="#">FAQ</a></li>
					<li><a href="#!" class="dropdown-button" data-activates="dropdown1">Homework<i class="material-icons right">arrow_drop_down</i></a></li>
				</ul>
				<ul id="mobile-demo" class="side-nav">
					<li><a href="#">About</a></li>
					<li><a href="#">FAQ</a></li>
					<li><a href="#">Homework</a></li>
				</ul>
			</div>
		</nav>
	</div>
	<div id="hw7" class="container">
		<div class="card row">
			<div class="col s12">
				<h4>Thinning Operator</h4>
			</div>
			<div class="divider col s12"></div>
			<div class="col s12">
				<p>Latest update: 2015/11/26 21:00</p>
			</div>
		</div>
		<div class="row">
			<div class="col s12 m6">
				<img class="responsive-img" src="assets/img/thinned.bmp" alt="thinned image" />
			</div>
			<div class="col s12 m6">
				<h5>Check if we match:</h5>
				<form class="upload-form" method="POST" enctype="multipart/form-data">
					<div class="file-field input-field">
						<div class="btn">
							<span>File</span><input type="file" name="fileToUpload" id="fileToUpload" />
						</div>
						<div class="file-path-wrapper">
							<input class="file-path validate" type="text" placeholder="upload your thinned image" />
						</div>
					</div>
					<input type="hidden" name="which" value="thinning" />
					<button class="btn waves-effect waves-light">Verify<i class="material-icons right">send</i></button>
				</form>
				<div class="card blue-grey darken-1">
					<div class="card-content white-text">
						<span class="card-title">Result:</span>
						<p id='result-detail'></p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- import jQuery before materialize.js -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="assets/js/materialize.min.js"></script>
	<script type="text/javascript" src="assets/js/main.js"></script>
	<script>
	// enable side navigation bar
	$(".button-collapse").sideNav();
	var uploadforms = document.getElementsByClassName('upload-form');
	for(var i=0; i<uploadforms.length; i++) {
		uploadforms[i].addEventListener('submit', function(ev) {
			ev.preventDefault();
			var formData = new FormData(uploadforms[i]);
			formData.append('hihi', 'hello');
			formData.append('fileToUpload', document.getElementById('fileToUpload').files[0], document.getElementById('fileToUpload').files[0].name);
			var onResponse = function(res) {
				console.log('AJAX response: ' + res);
				document.getElementById('result-detail').innerHTML = res;
			}
			doAJAX('POST', 'check.php', formData, onResponse, true);
		});
	}
	</script>
</body>
</html>
